{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/canvas/canvas.component.html","webpack:///./src/app/canvas/canvas.component.ts","webpack:///./src/app/hello/hello.component.html","webpack:///./src/app/hello/hello.component.ts","webpack:///./src/app/layers/layers.component.html","webpack:///./src/app/layers/layers.component.ts","webpack:///./src/app/main/main.component.html","webpack:///./src/app/main/main.component.ts","webpack:///./src/app/preview/preview.component.html","webpack:///./src/app/preview/preview.component.ts","webpack:///./src/app/shared/auth/auth-guard-service.service.ts","webpack:///./src/app/shared/auth/auth-service.service.ts","webpack:///./src/app/shared/login-event.service.ts","webpack:///./src/app/shared/redraw-event.service.ts","webpack:///./src/app/shared/storage.service.ts","webpack:///./src/app/shared/update-canvas-size.service.ts","webpack:///./src/app/tools/tools.component.html","webpack:///./src/app/tools/tools.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","<div class=\"wrapper\">\r\n  <header class=\"header\">\r\n    <section>\r\n      <h1>Piskel</h1>\r\n    </section>\r\n    <section>\r\n      <h2>New Piskel</h2>\r\n    </section>\r\n    <section>\r\n      <button (click)=\"checkLogin()\">{{ statusLoginText }}</button>\r\n    </section>\r\n  </header>\r\n  <main class=\"main\">\r\n    <router-outlet></router-outlet>\r\n  </main>\r\n  <footer class=\"footer\">\r\n    &copy; Evgeniy Yakimchuk\r\n  </footer>\r\n</div>\r\n\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AuthServiceService} from './shared/auth/auth-service.service';\r\nimport {LoginEventService} from './shared/login-event.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\n\r\nexport class AppComponent implements OnInit {\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private login: AuthServiceService,\r\n    private loginDataEvent: LoginEventService\r\n  ) {}\r\n\r\n  statusLogin = false;\r\n  statusLoginText = 'Log In';\r\n\r\n  loginData = '';\r\n  passwordData = '';\r\n\r\n  ngOnInit() {\r\n    this.router.navigate(['/'], {relativeTo: this.route});\r\n\r\n    this.loginDataEvent.loginData.subscribe((data) => {\r\n      if (data === null) {\r\n        this.checkLogin();\r\n      } else {\r\n        this.loginData = data.login;\r\n        this.passwordData = data.password;\r\n      }\r\n    });\r\n  }\r\n\r\n  checkLogin() {\r\n    if (this.statusLogin) {\r\n\r\n      this.login.logOut();\r\n\r\n      this.statusLogin = false;\r\n      this.statusLoginText = 'Log In';\r\n      this.router.navigate(['/'], {relativeTo: this.route});\r\n\r\n    } else {\r\n      if (this.loginData === '' && this.passwordData === '') {\r\n        this.login.logIn();\r\n\r\n        this.statusLogin = true;\r\n        this.statusLoginText = 'Log Out';\r\n        this.router.navigate(['/main'], {relativeTo: this.route});\r\n      }\r\n      /*this.login.logIn();\r\n\r\n      this.statusLogin = true;\r\n      this.statusLoginText = 'Log Out';\r\n      this.router.navigate(['/main'], {relativeTo: this.route});*/\r\n    }\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LayersComponent } from './layers/layers.component';\r\nimport { CanvasComponent } from './canvas/canvas.component';\r\nimport { ToolsComponent } from './tools/tools.component';\r\nimport { PreviewComponent } from './preview/preview.component';\r\nimport {FormsModule} from '@angular/forms';\r\nimport { HelloComponent } from './hello/hello.component';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport {AuthGuardServiceService} from './shared/auth/auth-guard-service.service';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: HelloComponent},\r\n  {path: 'main', component: MainComponent, canActivate: [AuthGuardServiceService]},\r\n  {path: '**', redirectTo: ''}\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LayersComponent,\r\n    CanvasComponent,\r\n    ToolsComponent,\r\n    PreviewComponent,\r\n    HelloComponent,\r\n    MainComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    RouterModule.forRoot(routes, {\r\n      useHash: true\r\n    })\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","<canvas\r\n    #canvas\r\n    width=\"512\"\r\n    height=\"512\"\r\n    (mousedown)=\"changeAllowToDraw(true)\"\r\n    (mouseup)=\"changeAllowToDraw(false)\"\r\n    (mousemove)=\"draw($event)\"\r\n    (click)=\"allowToDrawBucket($event)\"\r\n></canvas>\r\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\r\nimport {RedrawEventService} from '../shared/redraw-event.service';\r\n\r\n@Component({\r\n  selector: 'app-canvas',\r\n  templateUrl: './canvas.component.html',\r\n  styleUrls: ['./canvas.component.css']\r\n})\r\nexport class CanvasComponent implements OnInit {\r\n\r\n  constructor(private redraw: RedrawEventService) { }\r\n\r\n  @ViewChild('canvas') canvas;\r\n\r\n  @Input() layer;\r\n\r\n  @Input() xSize;\r\n  @Input() ySize;\r\n\r\n  @Input() widthCell;\r\n  @Input() heightCell;\r\n\r\n  @Input() toolInfo;\r\n  @Input() selectedColor;\r\n\r\n  context;\r\n\r\n  allowToDraw = false;\r\n\r\n  ngOnInit() {\r\n    this.redraw.redrawEvent.subscribe(() => {\r\n      setTimeout(() => this.redrawCanvas(), 0);\r\n    });\r\n\r\n    this.context = this.canvas.nativeElement.getContext('2d');\r\n\r\n    this.toolInfo = {\r\n      enabledTool: false,\r\n      tool: '',\r\n    };\r\n\r\n    this.selectedColor = 'transparent';\r\n  }\r\n\r\n  redrawCanvas() {\r\n    console.log('redraw');\r\n    this.context.clearRect(0, 0, this.canvas.nativeElement.width, this.canvas.nativeElement.height);\r\n\r\n    this.layer.forEach((pixelObj) => {\r\n      this.context.fillStyle = pixelObj.color;\r\n      this.context.fillRect(pixelObj.x, pixelObj.y, this.widthCell, this.heightCell);\r\n    });\r\n  }\r\n\r\n  changeAllowToDraw(allow) {\r\n    this.allowToDraw = allow;\r\n  }\r\n\r\n  draw(event) {\r\n    if (this.allowToDraw) {\r\n      const posX = Math.floor(event.offsetX / this.widthCell);\r\n      const posY = Math.floor(event.offsetY / this.heightCell);\r\n\r\n      const numbCell = Math.floor(event.offsetY / this.heightCell) * this.xSize + Math.floor(event.offsetX / this.widthCell + 1);\r\n\r\n      if (this.toolInfo.enabledTool === true && this.toolInfo.tool === 'pen') {\r\n        this.drawPen(numbCell, this.selectedColor);\r\n        return;\r\n      }\r\n\r\n      if (this.toolInfo.enabledTool === true && this.toolInfo.tool === 'eraser') {\r\n        this.drawEraser(numbCell);\r\n        return;\r\n      }\r\n\r\n      if (this.toolInfo.enabledTool === true && this.toolInfo.tool === 'bucket') {\r\n        this.drawBucket(numbCell, this.selectedColor);\r\n        return;\r\n      }\r\n      return;\r\n    }\r\n  }\r\n\r\n  allowToDrawBucket(event) {\r\n    const posX = Math.floor(event.offsetX / this.widthCell);\r\n    const posY = Math.floor(event.offsetY / this.heightCell);\r\n\r\n    const numbCell = Math.floor(event.offsetY / this.heightCell) * this.xSize + Math.floor(event.offsetX / this.widthCell + 1);\r\n\r\n    if (this.toolInfo.enabledTool === true && this.toolInfo.tool === 'bucket') {\r\n      this.drawBucket(numbCell, this.selectedColor);\r\n    }\r\n  }\r\n\r\n  drawPen(numbCell, color = 'transparent') {\r\n    this.context.fillStyle = color;\r\n    this.context.fillRect(this.layer[numbCell - 1].x, this.layer[numbCell - 1].y, this.widthCell, this.heightCell);\r\n    this.layer[numbCell - 1].color = color;\r\n  }\r\n\r\n  drawEraser(numbCell) {\r\n    this.context.clearRect(this.layer[numbCell - 1].x, this.layer[numbCell - 1].y, this.widthCell, this.heightCell);\r\n    this.layer[numbCell - 1].color = 'transparent';\r\n  }\r\n\r\n  drawBucket(numbCell, color = 'transparent') {\r\n    const changeableColor = this.layer[numbCell - 1].color;\r\n    this.context.fillStyle = color;\r\n\r\n    if (color === 'transparent') {\r\n      this.layer.forEach((cell) => {\r\n        if (cell.color === changeableColor) {\r\n          this.context.clearRect(cell.x, cell.y, this.widthCell, this.heightCell);\r\n          cell.color = color;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.layer.forEach((cell) => {\r\n      if (cell.color === changeableColor) {\r\n        this.context.fillRect(cell.x, cell.y, this.widthCell, this.heightCell);\r\n        cell.color = color;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<section class=\"logged-form-wrapper\">\n  <form class=\"logged-form\">\n    <label for=\"form-login\">\n      Login:\n    </label>\n    <input id=\"form-login\" type=\"text\" name=\"loginForm\" [(ngModel)]=\"loginForm\" (input)=\"sendData()\">\n    <label for=\"form-password\">\n      Password:\n    </label>\n    <input id=\"form-password\" type=\"password\" name=\"loginPassword\" [(ngModel)]=\"loginPassword\" (input)=\"sendData()\">\n    <button (click)=\"checkLogin()\">Log In</button>\n  </form>\n  <div class=\"logged-notification\">\n    <p>\n      This is test authentication.\n    </p>\n    <p>\n      You don't need to enter login and password!\n    </p>\n  </div>\n</section>\n","import {Component} from '@angular/core';\nimport {LoginEventService} from '../shared/login-event.service';\n\n@Component({\n  selector: 'app-hello',\n  templateUrl: './hello.component.html',\n  styleUrls: ['./hello.component.css']\n})\nexport class HelloComponent {\n\n  constructor(private loginDataEvent: LoginEventService) {}\n\n  loginForm = '';\n  loginPassword = '';\n\n  checkLogin() {\n    this.loginDataEvent.loginData.emit(null);\n  }\n\n  sendData() {\n    this.loginDataEvent.loginData.emit({\n      login: this.loginForm,\n      password: this.loginPassword\n    });\n  }\n\n}\n","<section class=\"tools-layers\">\r\n  <div #layersWrap (click)=\"initialClick($event)\" class=\"layers-wrapper\">\r\n    <!--<div *ngFor=\"let layer of storageLayers, let idx = index\" [attr.id]=\"'layer-' + (idx + 1)\" class=\"tools-layers-item\"></div>-->\r\n  </div>\r\n  <button (click)=\"addLayer()\" [disabled]=\"disableButton\" class=\"add-layer\">Add new frame</button>\r\n</section>\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {RedrawEventService} from '../shared/redraw-event.service';\r\nimport {UpdateCanvasSizeService} from '../shared/update-canvas-size.service';\r\n\r\n@Component({\r\n  selector: 'app-layers',\r\n  templateUrl: './layers.component.html',\r\n  styleUrls: ['./layers.component.css']\r\n})\r\nexport class LayersComponent implements OnInit {\r\n\r\n  storageLayers = [];\r\n  disableButton = false;\r\n\r\n  @Input() layers;\r\n\r\n  @Output() addLayerEvent: EventEmitter<any> = new EventEmitter();\r\n  @Output() deleteLayerEvent: EventEmitter<any> = new EventEmitter();\r\n  @Output() copyLayerEvent: EventEmitter<any> = new EventEmitter();\r\n  @Output() selectNumbLayer: EventEmitter<any> = new EventEmitter();\r\n\r\n  @ViewChild('layersWrap') layersWrapObj;\r\n  layersWrapper;\r\n\r\n  constructor(\r\n    private redrawCanvas: RedrawEventService,\r\n    private updateCanvasSizeEvent: UpdateCanvasSizeService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.updateCanvasSizeEvent.updateCanvasSize.subscribe(() => this.updateCanvasSize());\r\n\r\n    this.layersWrapper = this.layersWrapObj.nativeElement;\r\n\r\n    if (this.layers.length === 0) {\r\n      this.addLayer();\r\n      setTimeout(() => this.selectLayer(this.storageLayers[0]), 0);\r\n    } else {\r\n      this.layers.forEach((layer, i) => {\r\n        this.addLayerHere();\r\n      });\r\n      setTimeout(() => this.selectLayer(this.storageLayers[0]), 0);\r\n    }\r\n  }\r\n\r\n  addHtmlLayer() {\r\n    const newLayer = document.createElement('div');\r\n\r\n    newLayer.dataset.numbLayer = this.storageLayers.length + 1 + '';\r\n    newLayer.classList.add('tools-layers-item');\r\n\r\n    newLayer.innerHTML = `\r\n      <div class=\"layer-info layer-number\">${this.storageLayers.length + 1}</div>\r\n      <div class=\"layer-info layer-delete\"><i class=\"far fa-trash-alt\"></i></div>\r\n      <div class=\"layer-info layer-copy\"><i class=\"far fa-copy\"></i></div>\r\n      <div class=\"layer-info layer-move\"><i class=\"fas fa-expand-arrows-alt\"></i></div>\r\n    `;\r\n\r\n    return newLayer;\r\n  }\r\n\r\n  addLayerHere() {\r\n    this.storageLayers.push(this.addHtmlLayer());\r\n    this.layersWrapper.appendChild(this.storageLayers[this.storageLayers.length - 1]);\r\n  }\r\n\r\n  addLayer() {\r\n    if (this.storageLayers.length >= 5) {\r\n      this.disableButton = true;\r\n      return;\r\n    }\r\n\r\n    this.storageLayers.push(this.addHtmlLayer());\r\n\r\n    this.layersWrapper.appendChild(this.storageLayers[this.storageLayers.length - 1]);\r\n\r\n    this.addLayerEvent.emit();\r\n  }\r\n\r\n  deleteLayer(elem) {\r\n    const idx = this.storageLayers.indexOf(elem);\r\n\r\n    this.storageLayers.splice(idx, 1);\r\n    this.layersWrapper.removeChild(elem);\r\n\r\n    if (idx === 0) {\r\n      this.selectLayer(this.storageLayers[0]);\r\n    }\r\n\r\n    this.updateNumbLayer();\r\n    this.deleteLayerEvent.emit(idx);\r\n  }\r\n\r\n  updateNumbLayer() {\r\n    this.storageLayers.forEach((layer, idx) => {\r\n      layer.dataset.numbLayer = idx + 1 + '';\r\n      layer.querySelector('.layer-number').innerText = idx + 1;\r\n    });\r\n  }\r\n\r\n  copyLayer(elem) {\r\n    const res = elem.cloneNode(true);\r\n\r\n    this.storageLayers.push(res);\r\n    this.layersWrapper.appendChild(res);\r\n\r\n    this.updateNumbLayer();\r\n    this.copyLayerEvent.emit(+elem.dataset.numbLayer);\r\n  }\r\n\r\n  initialClick(event) {\r\n    const searchElem = (elem) => {\r\n      if (elem.classList.contains('layers-wrapper')) {\r\n        return;\r\n      } else if (elem.classList.contains('tools-layers-item')) {\r\n        return elem;\r\n      } else {\r\n        return searchElem(elem.parentNode);\r\n      }\r\n    };\r\n\r\n    const selectedLayer = searchElem(event.target);\r\n\r\n    if (event.target.classList.contains('fa-trash-alt') || event.target.classList.contains('layer-delete')) {\r\n      this.deleteLayer(selectedLayer);\r\n      return;\r\n    }\r\n\r\n    if (event.target.classList.contains('fa-copy') || event.target.classList.contains('layer-copy')) {\r\n      this.copyLayer(selectedLayer);\r\n      return;\r\n    }\r\n\r\n    this.selectLayer(selectedLayer);\r\n  }\r\n\r\n  selectLayer(elem) {\r\n    if (!elem) {\r\n      return;\r\n    }\r\n\r\n    this.storageLayers.forEach((layer) => {\r\n      layer.classList.remove('select-tool');\r\n\r\n      for (let i = 0; i < layer.children.length; i++) {\r\n        layer.children[i].classList.remove('select-tool-info');\r\n      }\r\n    });\r\n\r\n    elem.classList.add('select-tool');\r\n\r\n    for (let i = 0; i < elem.children.length; i++) {\r\n      elem.children[i].classList.add('select-tool-info');\r\n    }\r\n\r\n    this.selectNumbLayer.emit(+elem.dataset.numbLayer);\r\n    this.redrawCanvas.redrawEvent.emit();\r\n  }\r\n\r\n  updateCanvasSize() {\r\n    this.storageLayers.forEach((layer) => {\r\n      this.layersWrapper.removeChild(layer);\r\n    });\r\n    this.storageLayers = [];\r\n\r\n    this.addLayer();\r\n    this.selectLayer(this.storageLayers[0]);\r\n  }\r\n\r\n}\r\n","<div class=\"main-wrapper\">\n  <section class=\"toolbar\">\n    <app-tools\n      (giveColor)=\"takeColor($event)\"\n      (giveTool)=\"takeTool($event)\"\n      (giveSize)=\"takeSize($event)\"\n    ></app-tools>\n    <app-layers\n      (selectNumbLayer)=\"selectNumbLayer($event)\"\n      (addLayerEvent)=\"addLayer()\"\n      (deleteLayerEvent)=\"deleteLayer($event)\"\n      (copyLayerEvent)=\"copyLayer($event)\"\n      [layers]=\"layers\"\n    ></app-layers>\n  </section>\n  <section class=\"canvas\">\n    <app-canvas\n        #canvas\n        [selectedColor]=\"selectedColor\"\n        [toolInfo]=\"toolInfo\"\n        [widthCell]=\"widthCell\"\n        [heightCell]=\"heightCell\"\n        [layer]=\"selectedLayer\"\n        [xSize]=\"xSize\"\n        [ySize]=\"ySize\"\n    ></app-canvas>\n  </section>\n  <section class=\"preview\">\n    <app-preview\n      [layers]=\"layers\"\n      [xSize]=\"xSize\"\n      [ySize]=\"ySize\"\n    ></app-preview>\n  </section>\n\n</div>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {UpdateCanvasSizeService} from '../shared/update-canvas-size.service';\r\nimport {LoginEventService} from '../shared/login-event.service';\r\nimport {StorageService} from '../shared/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(\r\n    private updateCanvasSizeEvent: UpdateCanvasSizeService,\r\n    private loginDataEvent: LoginEventService,\r\n    private storageService: StorageService\r\n  ) {}\r\n\r\n  @ViewChild('canvas') canvas;\r\n  layers = [];\r\n  selectedLayer = [];\r\n\r\n  widthCell = 0;\r\n  heightCell = 0;\r\n\r\n  toolInfo;\r\n  selectedColor;\r\n\r\n  xSize = 32;\r\n  ySize = 32;\r\n\r\n  loginData = '';\r\n  passwordData = '';\r\n\r\n  ngOnInit() {\r\n    this.loginDataEvent.loginData.subscribe((data) => {\r\n      if (data !== null) {\r\n        this.loginData = data.login;\r\n        this.passwordData = data.password;\r\n      }\r\n    });\r\n\r\n    const savedObj = this.storageService.getUser(this.loginData, this.passwordData);\r\n\r\n    if (savedObj) {\r\n      this.layers = savedObj.layers;\r\n      this.xSize = savedObj.size;\r\n      this.ySize = savedObj.size;\r\n    }\r\n\r\n    this.widthCell = this.canvas.canvas.nativeElement.offsetWidth / this.xSize;\r\n    this.heightCell = this.canvas.canvas.nativeElement.offsetHeight / this.ySize;\r\n\r\n    window.onunload = () => {\r\n      this.storageService.saveUser(this.loginData, this.passwordData, this.xSize, this.layers);\r\n    };\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    window.onunload = null;\r\n    this.storageService.saveUser(this.loginData, this.passwordData, this.xSize, this.layers);\r\n  }\r\n\r\n  addLayer() {\r\n    const layer = [];\r\n    for (let i = 0; i < this.ySize; i++) {\r\n      for (let j = 0; j < this.xSize; j++) {\r\n        layer.push({\r\n          x: j * this.widthCell,\r\n          y: i * this.heightCell,\r\n          color: 'transparent',\r\n        });\r\n      }\r\n    }\r\n    this.layers.push(layer);\r\n  }\r\n\r\n  deleteLayer(numb) {\r\n    this.layers.splice(numb, 1);\r\n  }\r\n\r\n  copyLayer(numb) {\r\n    const copyElem = this.layers[numb - 1];\r\n    this.layers.push(copyElem);\r\n  }\r\n\r\n  selectNumbLayer(numb) {\r\n    this.selectedLayer = this.layers[numb - 1];\r\n  }\r\n\r\n  takeTool(obj) {\r\n    this.toolInfo = obj;\r\n  }\r\n\r\n  takeColor(color) {\r\n    this.selectedColor = color;\r\n  }\r\n\r\n  takeSize(size) {\r\n    console.log(size);\r\n    this.xSize = size;\r\n    this.ySize = size;\r\n\r\n    this.updateCanvasSize();\r\n  }\r\n\r\n  updateCanvasSize() {\r\n    console.log('update canvas size and send event from app component');\r\n    this.widthCell = this.canvas.canvas.nativeElement.offsetWidth / this.xSize;\r\n    this.heightCell = this.canvas.canvas.nativeElement.offsetHeight / this.ySize;\r\n\r\n    this.layers = [];\r\n\r\n    this.updateCanvasSizeEvent.updateCanvasSize.emit();\r\n  }\r\n\r\n}\r\n","<div class=\"preview-wrapper\">\n  <canvas #previewElem width=\"256\" height=\"256\" class=\"preview-field\"></canvas>\n  <div class=\"preview-buttons\">\n    <input type=\"range\" min=\"1\" max=\"60\" [(ngModel)]=\"valueFps\" (input)=\"changeFps()\">\n    <span>{{ valueFps }} fps</span>\n  </div>\n  <p>Canvas size: {{ xSize }}px * {{ ySize }}px</p>\n</div>\n","import {Component, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {UpdateCanvasSizeService} from '../shared/update-canvas-size.service';\r\n\r\n@Component({\r\n  selector: 'app-preview',\r\n  templateUrl: './preview.component.html',\r\n  styleUrls: ['./preview.component.css']\r\n})\r\nexport class PreviewComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(private updateCanvasSizeEvent: UpdateCanvasSizeService) {}\r\n\r\n  @ViewChild('previewElem') previewElem;\r\n  @Input() layers;\r\n\r\n  @Input() xSize;\r\n  @Input() ySize;\r\n\r\n  canvasContext = null;\r\n  gridCoordinats = [];\r\n  timerId = null;\r\n\r\n  widthCell = null;\r\n  heightCell = null;\r\n\r\n  valueFps = 10;\r\n\r\n  ngOnInit() {\r\n    this.updateCanvasSizeEvent.updateCanvasSize.subscribe(() => {\r\n      this.gridCoordinats = [];\r\n\r\n      setTimeout(() => {\r\n        this.getGridCoordinats(this.xSize, this.ySize);\r\n        this.animation();\r\n      }, 0);\r\n    });\r\n\r\n    this.canvasContext = this.previewElem.nativeElement.getContext('2d');\r\n    this.getGridCoordinats(this.xSize, this.ySize);\r\n    this.animation();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    clearInterval(this.timerId);\r\n  }\r\n\r\n  getGridCoordinats(x, y) {\r\n    this.widthCell = this.previewElem.nativeElement.clientWidth / x;\r\n    this.heightCell = this.previewElem.nativeElement.clientHeight / y;\r\n\r\n    for (let i = 0; i < y; i++) {\r\n      for (let j = 0; j < x; j++) {\r\n        this.gridCoordinats.push({\r\n          x: j * this.widthCell,\r\n          y: i * this.heightCell,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  changeFps() {\r\n    this.animation(this.valueFps);\r\n  }\r\n\r\n  animation(val = this.valueFps) {\r\n    let frame = 0;\r\n    clearInterval(this.timerId);\r\n    const fps = 1000 / val;\r\n\r\n    this.timerId = setInterval(() => {\r\n      if (frame >= this.layers.length) {\r\n        frame = 0;\r\n      }\r\n      this.canvasContext.clearRect(0, 0, this.previewElem.nativeElement.width, this.previewElem.nativeElement.height);\r\n\r\n      this.layers[frame].forEach((point, i) => {\r\n        this.canvasContext.fillStyle = point.color;\r\n        this.canvasContext.fillRect(this.gridCoordinats[i].x, this.gridCoordinats[i].y, this.widthCell, this.heightCell);\r\n      });\r\n      frame++;\r\n    }, fps);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthServiceService} from './auth-service.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardServiceService implements CanActivate {\n  constructor(private auth: AuthServiceService) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return this.auth.isAuth().then((data) => {\n      if (data) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthServiceService {\n  loggedIn = false;\n\n  logIn() {\n    this.loggedIn = true;\n  }\n\n  logOut() {\n    this.loggedIn = false;\n  }\n\n  isAuth() {\n    return new Promise((res, rej) => {\n      // setTimeout(() => res(this.loggedIn), 0);\n      res(this.loggedIn);\n    });\n  }\n}\n","import {EventEmitter, Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginEventService {\n  loginData: EventEmitter<any> = new EventEmitter();\n}\n","import {EventEmitter, Injectable} from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RedrawEventService {\r\n  redrawEvent: EventEmitter<any> = new EventEmitter();\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StorageService {\r\n  saveUser(login, password, size, layers) {\r\n    localStorage.setItem(login, JSON.stringify({\r\n      password,\r\n      size,\r\n      layers\r\n    }));\r\n  }\r\n\r\n  getUser(login, password) {\r\n    if (login in localStorage) {\r\n      const data = JSON.parse(localStorage.getItem(login));\r\n      if (password === data.password) {\r\n        return data;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UpdateCanvasSizeService {\n  updateCanvasSize: EventEmitter<any> = new EventEmitter();\n}\n","<section class=\"tools\">\r\n  <div #toolsItems (click)=\"getTool($event)\" class=\"tools-items\">\r\n    <div #bucket data-tool=\"bucket\" class=\"tools-items-item tools-items-bucket\">\r\n      <i class=\"fas fa-fill-drip\"></i>\r\n    </div>\r\n    <div #pen data-tool=\"pen\" class=\"tools-items-item tools-items-pen\">\r\n      <i class=\"fas fa-pen\"></i>\r\n    </div>\r\n    <div #eraser data-tool=\"eraser\" class=\"tools-items-item tools-items-eraser\">\r\n      <i class=\"fas fa-eraser\"></i>\r\n    </div>\r\n    <div class=\"tools-items-item\"></div>\r\n  </div>\r\n  <div class=\"tools-colors\">\r\n    <p>Select color:</p>\r\n    <select (click)=\"getColor($event)\" name=\"colors\" id=\"\">\r\n      <option value=\"transparent\">transparent</option>\r\n      <option value=\"#000000\">black</option>\r\n      <option value=\"#FFFFFF\">white</option>\r\n      <option value=\"#FF0000\">red</option>\r\n      <option value=\"#FFFF00\">yellow</option>\r\n      <option value=\"#008000\">green</option>\r\n      <option value=\"#FFC0CB\">pink</option>\r\n      <option value=\"#FFA500\">orange</option>\r\n      <option value=\"#0000FF\">blue</option>\r\n      <option value=\"#808080\">grey</option>\r\n      <option value=\"#FF00FF\">fuchsia</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"tools-canvas-size\">\r\n    <p>Select canvas size:</p>\r\n    <div\r\n      class=\"tools-canvas-size-buttons\"\r\n      (click)=\"getSize($event)\"\r\n    >\r\n      <button data-canvas-size=\"32\">32 x 32</button>\r\n      <button data-canvas-size=\"64\">64 x 64</button>\r\n      <button data-canvas-size=\"128\">128 x 128</button>\r\n    </div>\r\n  </div>\r\n</section>\r\n","import {Component, EventEmitter, OnInit, Output, ViewChild} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-tools',\r\n  templateUrl: './tools.component.html',\r\n  styleUrls: ['./tools.component.css']\r\n})\r\nexport class ToolsComponent implements OnInit {\r\n\r\n  @ViewChild('toolsItems') toolsItems;\r\n  @ViewChild('bucket') bucket;\r\n  @ViewChild('pen') pen;\r\n  @ViewChild('eraser') eraser;\r\n\r\n  @Output() giveTool: EventEmitter<any> = new EventEmitter();\r\n  @Output() giveColor: EventEmitter<any> = new EventEmitter();\r\n  @Output() giveSize: EventEmitter<any> = new EventEmitter();\r\n\r\n  selectedElem;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getTool(event) {\r\n    const elem = event.target;\r\n\r\n    if (this.selectedElem) {\r\n      this.giveTool.emit({\r\n        enabledTool: false,\r\n        tool: this.selectedElem.getAttribute('data-tool'),\r\n      });\r\n\r\n      this.selectedElem.classList.remove('select-tool');\r\n      this.selectedElem = '';\r\n\r\n      return;\r\n    }\r\n\r\n    if (elem.classList.contains('tools-items-bucket') || elem.classList.contains('fa-fill-drip')) {\r\n      this.selectedElem = this.bucket.nativeElement;\r\n      this.bucket.nativeElement.classList.add('select-tool');\r\n    }\r\n\r\n    if (elem.classList.contains('tools-items-pen') || elem.classList.contains('fa-pen')) {\r\n      this.selectedElem = this.pen.nativeElement;\r\n      this.pen.nativeElement.classList.add('select-tool');\r\n    }\r\n\r\n    if (elem.classList.contains('tools-items-eraser') || elem.classList.contains('fa-eraser')) {\r\n      this.selectedElem = this.eraser.nativeElement;\r\n      this.eraser.nativeElement.classList.add('select-tool');\r\n    }\r\n\r\n    this.giveTool.emit({\r\n      enabledTool: true,\r\n      tool: this.selectedElem.getAttribute('data-tool'),\r\n    });\r\n  }\r\n\r\n  getColor(color) {\r\n    const selectedColor = color.target[color.target.selectedIndex].value;\r\n    this.giveColor.emit(selectedColor);\r\n  }\r\n\r\n  getSize(event) {\r\n    const size = +event.target.dataset.canvasSize;\r\n    this.giveSize.emit(size);\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n\r\n"],"sourceRoot":""}